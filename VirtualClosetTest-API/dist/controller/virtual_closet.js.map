{"version":3,"sources":["../../src/controller/virtual_closet.js"],"names":["config","db","api","post","req","res","newRest","name","body","color","description","type","style","urlPath","save","err","send","json","message","get","find","closetItems","findById","params","id","closetItem","put","delete","remove","_id"],"mappings":"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","file":"virtual_closet.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport VirtualCloset from '../model/virtual_closet';\n\nexport default ({ config, db }) => {\n    let api = Router();\n\n    // CRUD\n\n    // '/v1/closetItem/add' - Create\n    api.post('/add', (req, res) => {\n        let newRest = new VirtualCloset();\n        newRest.name = req.body.name;\n        newRest.color = req.body.color;\n        newRest.description = req.body.description;\n        newRest.type = req.body.type;\n        newRest.style = req.body.style;\n        newRest.urlPath = req.body.urlPath;\n\n        newRest.save(err => {\n            if (err) {\n                res.send(err);\n            }\n            res.json({ message: 'Item saved successfully' });\n        });\n    });\n\n    // '/v1/closetItem' - Read\n    api.get('/', (req, res) => {\n        VirtualCloset.find({}, (err, closetItems) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json(closetItems);\n        });\n    });\n\n\n    // '/v1/closetItem/:id' - Read 1\n    api.get('/:id', (req, res) => {\n        VirtualCloset.findById(req.params.id, (err, closetItem) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json(closetItem);\n        });\n    });\n\n    // '/v1/closetItem/:id' - Update\n    api.put('/:id', (req, res) => {\n        VirtualCloset.findById(req.params.id, (err, closetItem) => {\n            if (err) {\n                res.send(err);\n            }\n            closetItem.name = req.body.name;\n            closetItem.color = req.body.color;\n            closetItem.description = req.body.description;\n            closetItem.type = req.body.type;\n            closetItem.style = req.body.style;\n            closetItem.urlPath = req.body.urlPath;\n            closetItem.save(err => {\n                if (err) {\n                    res.send(err);\n                }\n                res.json({ message: \"VirtualCloset info updated\" });\n            });\n        });\n    });\n\n    // '/v1/closetItem/:id' - Delete\n    api.delete('/:id', (req, res) => {\n        VirtualCloset.remove({\n            _id: req.params.id\n        }, (err, closetItem) => {\n            if(err) {\n                res.send(err);\n            }\n            res.json({ message: \"VirtualCloset successfully removed\"});\n        });\n    });\n\n    return api;\n}\n"]}